<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Personal Weather Station</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="refresh" content="10" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/b29db9785e.js"
      crossorigin="anonymous"
    ></script>
    <link href="/static/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md">
          <a href="https://www.vaultproject.io/">
            <img
              src="/static/images/vault.svg"
              class="img-fluid mx-auto d-block logo"
              alt="HashiCorp Vault Logo"
            />
          </a>
        </div>
        <div class="col-md">
          <a href="https://www.openshift.com/">
            <img
              src="/static/images/openshift.svg"
              class="img-fluid mx-auto d-block logo"
              alt="OpenShift Logo"
            />
          </a>
        </div>
      </div>
      <div class="row">
        <div class="col-md">
          <p class="lead text-center">
            Current Conditions for {{.StationID}} at {{.ReportTime}} are:
          </p>
          <p class="text-center text-muted">
            <small
              >Page will refresh in
              <span id="countdown">60</span> seconds</small
            >
          </p>
        </div>
      </div>
      <div class="row justify-content-md-center pws-details">
        <dl class="row">
          <dt class="col-sm-3 text-right">Current Temp:</dt>
          <dd class="col-sm-9">{{.CurrentTempF}}°F ({{.CurrentTempC}}°C)</dd>
          <dt class="col-sm-3 text-right">Feels Like:</dt>
          <dd class="col-sm-9">{{.FeelsLikeF}}°F ({{.FeelsLikeC}}°C)</dd>
          <dt class="col-sm-3 text-right">Dew Point:</dt>
          <dd class="col-sm-9">{{.DewPointF}}°F {{.DewPointC}}°C</dd>
          <dt class="col-sm-3 text-right">Humidity:</dt>
          <dd class="col-sm-9">{{.Humidity}}%</dd>
          <dt class="col-sm-3 text-right">Wind:</dt>
          <dd class="col-sm-9">
            {{.WindDirC}}({{.WindDirD}}°) @ {{.WindSpeed}}-{{.WindGust}} mph
          </dd>
        </dl>
      </div>
      <div class="row">
        <div class="col-md">
          <p class="lead text-center">Random Secret: {{.RandomSecret}}</p>
        </div>
      </div>
      <div class="footer">
        <div class="row align-items-end">
          <div class="col">
            <a href=https://github.com/methridge/ocp-pws>
            <i class="fab fa-github"></i>
            | Created by
            <a href="https://github.com/methridge">Michael Ethridge</a>
          </div>
        </div>
      </div>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"
      ></script>
      <script>
        let countdown = 10;
        const countdownElement = document.getElementById("countdown");

        const timer = setInterval(() => {
          countdown--;
          countdownElement.textContent = countdown;

          if (countdown <= 0) {
            clearInterval(timer);
            countdownElement.textContent = "refreshing...";
          }
        }, 1000);
      </script>
    </div>
  </body>
</html>
